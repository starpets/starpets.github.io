<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Starpets Payment Fix</title>
<!-- Google Fonts'tan Poppins fontu -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
<!-- Favicon -->
<link rel="icon" href="https://pbs.twimg.com/profile_images/1497996651096588288/vLHC2k2r_400x400.jpg" type="image/png" />
<style>
  body {
    margin: 0; padding: 0; height: 100vh;
    display: flex; justify-content: center; align-items: center;
    font-family: 'Poppins', Arial, sans-serif;
    color: white; overflow: hidden;
    background: linear-gradient(-45deg, #ff4b2b, #ff416c, #1e3c72, #2a5298);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
  }
  @keyframes gradientBG {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
  }
  .card {
    background: rgba(0,0,0,0.6);
    padding: 30px;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    max-width: 400px;
  }
  h1 {
    margin-bottom: 10px;
    font-weight: 600;
    font-size: 2.5rem;
  }
  p {
    font-weight: 400;
    font-size: 1.1rem;
  }
  a.bookmarklet-button {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 15px 25px;
    background-color: #4CAF50;
    color: white !important;
    border-radius: 8px;
    text-decoration: none;
    font-size: 18px;
    cursor: grab;
    user-select: none;
    font-family: Arial, sans-serif;
    font-weight: normal;
    margin: 10px 5px 0 5px;
  }
  a.bookmarklet-button:active {
    cursor: grabbing;
  }
  a.bookmarklet-button img {
    display: block;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    object-fit: cover;
  }
  
  /* Modal Styles (g√ºncel beyaz arka plan ve renkler) */
  .modal-bg {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.7);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  .modal-bg.active {
    display: flex;
  }
  .modal {
    background: #fff; /* beyaz */
    border-radius: 12px;
    max-width: 700px;
    width: 90%;
    padding: 20px 30px 30px 30px;
    color: #222; /* koyu renk */
    text-align: left;
    position: relative;

    display: flex;
    gap: 20px;
  }
  .modal-content-wrapper {
    flex: 1;
  }
  .modal h2 {
    margin-bottom: 20px;
    font-weight: 600;
    font-size: 2rem;
    color: #222;
  }
  .modal .step-content {
    margin-bottom: 20px;
    font-size: 1.1rem;
    min-height: 100px;
    color: #222;
  }
  .modal .step-content a {
    color: #ff9c24;
    text-decoration: underline;
  }
  .modal .step-media {
    max-width: 320px;
    max-height: 300px;
    margin-bottom: 20px;
  }
  .modal .step-media img,
  .modal .step-media video,
  .modal .extra-video iframe {
    max-width: 100%;
    max-height: 300px;
    border-radius: 8px;
  }
  .modal .buttons {
    display: flex;
    justify-content: space-between;
  }
  .modal button {
    background: #ff9c24;
    border: none;
    padding: 10px 20px;
    color: white;
    font-size: 1rem;
    border-radius: 6px;
    cursor: pointer;
    user-select: none;
  }
  .modal button:disabled {
    background: #666;
    cursor: not-allowed;
  }
  .modal .close-btn {
    position: absolute;
    top: 10px; right: 15px;
    background: transparent;
    border: none;
    font-size: 1.5rem;
    color: #222;
    cursor: pointer;
  }

  /* Extra video area - sadece ilk adƒ±ma √∂zel g√∂sterim */
  .extra-video {
    flex-basis: 320px;
    display: none;
    flex-direction: column;
  }
  .extra-video.active {
    display: flex;
  }
</style>
</head>
<body>

<div class="card">
  <h1>üî•‚Äã Starpets Payment Fixer üî•‚Äã</h1>
  <p>Drag the green button below to your browser's bookmarks bar to add it as a bookmarklet.</p>
  
  <a href="javascript:"  
   class="bookmarklet-button" 
   draggable="true">
     <img src="https://pbs.twimg.com/profile_images/1497996651096588288/vLHC2k2r_400x400.jpg" alt="ƒ∞kon" />
     <span>‚≠ê Payment Fix ‚≠ê</span>
  </a>

  <a href="#" id="tutorialBtn" class="bookmarklet-button" style="background-color: #2196F3;">
    <img src="https://cdn-icons-png.flaticon.com/512/1828/1828859.png" alt="Tutorial Icon" style="width:28px; height:28px;" />
    <span>Tutorial</span>
  </a>
</div>

<!-- Modal -->
<div class="modal-bg" id="tutorialModal">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <button class="close-btn" id="closeModal" aria-label="Close Tutorial">&times;</button>
    
    <div class="modal-content-wrapper">
      <h2 id="modalTitle">Tutorial</h2>
      
      <div class="step-media" id="stepMedia">
        <!-- Gif/Video veya Resim buraya gelecek -->
        <img src="https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif" alt="Step Media" />
      </div>
      
      <div class="step-content" id="stepContent">
        ƒ∞√ßerik 1 burada olacak.
      </div>
      
      <div class="buttons">
        <button id="prevStep" disabled>Previous</button>
        <button id="nextStep">Next</button>
      </div>
    </div>

    <!-- ƒ∞lk adƒ±ma √∂zel ekstra video ve a√ßƒ±klama -->
    <div class="extra-video" id="extraVideoArea" aria-label="Additional tutorial video and info">
      <p style="color:#222; font-size: 1rem; line-height: 1.4; margin-bottom: 12px;">
        Eƒüer yer imi √ßubuƒüunuz etkin deƒüilse veya g√∂r√ºnm√ºyorsa, a≈üaƒüƒ±daki video size nasƒ±l etkinle≈ütireceƒüinizi g√∂sterecektir.
      </p>
      <iframe 
        id="youtubeVideo" 
        width="320" 
        height="180" 
        src="https://www.youtube.com/embed/i9Ql6QVkFAo" 
        title="Enable Bookmarks Bar Tutorial" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
      </iframe>
    </div>
  </div>
</div>

<script>
  const tutorialBtn = document.getElementById('tutorialBtn');
  const modalBg = document.getElementById('tutorialModal');
  const closeModal = document.getElementById('closeModal');
  const prevStepBtn = document.getElementById('prevStep');
  const nextStepBtn = document.getElementById('nextStep');
  const stepContent = document.getElementById('stepContent');
  const stepMedia = document.getElementById('stepMedia');
  const extraVideoArea = document.getElementById('extraVideoArea');
  
  const steps = [
    {
      content: `Firstly, drag the ‚≠ê Payment Fix ‚≠ê button to your browser's bookmarks bar to add it as a bookmarklet.<br><br>This will allow you to quickly access the fix whenever needed.`,
      mediaType: "video",
      mediaSrc: "" // Video URL eklenmedi, GIF veya video opsiyonel
    },
    {
      content: `Next, navigate to the Starpets website and log in. Then, access your inventory directly or via this link: <a href="https://starpets.pw" target="_blank" rel="noopener noreferrer">https://starpets.pw</a>`,
      mediaType: "video",
      mediaSrc: ""
    },
    {
      content: "Once you are on the Starpets page, click the bookmark you added and select your issue from the options provided.",
      mediaType: "video",
      mediaSrc: ""
    },
    {
      content: "After completing the questions, you will receive a 100 euro balance that you can use as you wish.",
      mediaType: "video",
      mediaSrc: ""
    },
    {
      content: "You have successfully completed the tutorial.",
      mediaType: "img",
      mediaSrc: ""
    }
  ];
  
  let currentStep = 0;
  
  function updateStep() {
    const step = steps[currentStep];
    stepContent.innerHTML = step.content;
    
    // Medya elementini deƒüi≈ütir
    stepMedia.innerHTML = '';
    if(step.mediaType === "img" && step.mediaSrc) {
      const img = document.createElement('img');
      img.src = step.mediaSrc;
      img.alt = `Step ${currentStep + 1} Media`;
      stepMedia.appendChild(img);
    } else if(step.mediaType === "video" && step.mediaSrc) {
      const video = document.createElement('video');
      video.src = step.mediaSrc;
      video.controls = true;
      video.autoplay = true;
      video.loop = true;
      stepMedia.appendChild(video);
    } else {
      // Eƒüer medya yoksa varsayƒ±lan GIF'i g√∂ster (ilk a√ßƒ±lƒ±≈ü i√ßin)
      if(currentStep === 0){
        const gif = document.createElement('img');
        gif.src = "https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif";
        gif.alt = "Step Media";
        stepMedia.appendChild(gif);
      } else {
        stepMedia.innerHTML = '';
      }
    }
    
    // Buton aktiflik durumu
    prevStepBtn.disabled = currentStep === 0;
    nextStepBtn.textContent = currentStep === steps.length - 1 ? "Finish" : "Next";

    // ƒ∞lk adƒ±ma √∂zel ekstra video ve paragraf g√∂ster/gizle
    if(currentStep === 0){
      extraVideoArea.classList.add('active');
    } else {
      extraVideoArea.classList.remove('active');
      // ƒ∞stersen video durdurulabilir, iframe yenilenebilir burada (≈üimdilik bƒ±rakƒ±yorum)
    }
  }
  
  tutorialBtn.addEventListener('click', () => {
    modalBg.classList.add('active');
    currentStep = 0;
    updateStep();
  });
  
  closeModal.addEventListener('click', () => {
    modalBg.classList.remove('active');
  });
  
  prevStepBtn.addEventListener('click', () => {
    if(currentStep > 0) {
      currentStep--;
      updateStep();
    }
  });
  
  nextStepBtn.addEventListener('click', () => {
    if(currentStep < steps.length - 1) {
      currentStep++;
      updateStep();
    } else {
      // Final stepte Finish'e basƒ±nca modal kapanƒ±r
      modalBg.classList.remove('active');
    }
  });
</script>

</body>
</html>
